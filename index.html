<!DOCTYPE html>
<html lang="ka">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>დაბადების დღეები</title>
    <link rel="stylesheet" href="style.css">
    <!-- მომავალში დავამატებთ ფონტებს და ხატულებს -->
</head>
<body>
    <header>
        <div class="left-header">
            <h1 id="site-title">🎂 დღეობა</h1>
            <nav class="main-nav">
                <button id="how-it-works-btn" class="nav-btn">როგორ მუშაობს</button>
                <button id="faq-btn" class="nav-btn">ხშირად დასმული კითხვები</button>
            </nav>
        </div>
        <div class="right-header">
            <button id="theme-toggle-btn" class="theme-toggle" aria-label="თემის შეცვლა">
                <span class="toggle-icon dark">🌙</span>
                <span class="toggle-icon light">☀️</span>
            </button>
            <div class="actions">
                <button id="export-json-btn">ექსპორტი (JSON)</button>
                <button id="export-csv-btn">ექსპორტი (CSV)</button>
                <button id="export-ics-btn">ექსპორტი კალენდარში (.ics)</button>
                <label for="import-file" class="import-button">იმპორტი</label>
                <input type="file" id="import-file" accept=".json,.csv" style="display: none;">
                <button id="clear-all-btn" class="danger-btn">მონაცემების წაშლა</button>
            </div>
        </div>
    </header>

    <main>
        <section id="birthday-list-section">
            <div class="top-actions">
                <h2>მომავალი დაბადების დღეები</h2>
                <button id="add-birthday-btn-main">ახალი დაბადების დღის დამატება</button>
            </div>
            
            <div class="search-container">
                <input type="text" id="search-input" placeholder="ძებნა სახელით, თარიღით, ზოდიაქოთი...">
                <button id="search-clear-btn">✕</button>
            </div>
            
            <ul id="birthday-list">
                <!-- დაბადების დღეები დინამიურად დაემატება აქ -->
                <li class="loading">იტვირთება...</li>
            </ul>
        </section>

        <section id="how-it-works-section" class="hidden info-section">
            <h2>როგორ მუშაობს აპლიკაცია</h2>
            <div class="info-content">
                <div class="info-block">
                    <h3>💾 მონაცემთა პრივატულობა</h3>
                    <p>აპლიკაცია ინახავს ყველა მონაცემს <strong>თქვენს ბრაუზერში</strong>, IndexedDB-ის გამოყენებით. თქვენი მონაცემები არასოდეს იგზავნება გარე სერვერებზე და სრულიად პრივატულია.</p>
                </div>
                
                <div class="info-block">
                    <h3>🎂 დაბადების დღეების მართვა</h3>
                    <p>შეგიძლიათ დაამატოთ, დაარედაქტიროთ და წაშალოთ დაბადების დღეები. თითოეული ჩანაწერისთვის შეგიძლიათ მიუთითოთ:</p>
                    <ul>
                        <li>სახელი</li>
                        <li>დაბადების თარიღი</li>
                        <li>ტელეფონის ნომერი (არჩევითი)</li>
                    </ul>
                </div>
                
                <div class="info-block">
                    <h3>🔍 ძებნა და ფილტრაცია</h3>
                    <p>გამოიყენეთ ძებნის ველი სახელით, დაბადების თარიღით ან ზოდიაქოს ნიშნით საძიებლად.</p>
                </div>
                
                <div class="info-block">
                    <h3>⏱️ დათვლა</h3>
                    <p>აპლიკაცია ავტომატურად დაითვლის დროის დარჩენას დაბადების დღემდე და წარმოადგენს თვეებში, დღეებში, საათებში, წუთებში და წამებში.</p>
                </div>
                
                <div class="info-block">
                    <h3>📱 კომუნიკაცია</h3>
                    <p>პირდაპირ დეტალების გვერდიდან შეგიძლიათ:</p>
                    <ul>
                        <li>დარეკოთ მეგობართან</li>
                        <li>SMS-ის გაგზავნა</li>
                        <li>WhatsApp-ით შეტყობინების გაგზავნა</li>
                    </ul>
                </div>
                
                <div class="info-block">
                    <h3>📤 მონაცემების შენახვა და გადატანა</h3>
                    <p>შეგიძლიათ:</p>
                    <ul>
                        <li><strong>ექსპორტი JSON-ში</strong> - მონაცემების სრული რეზერვული ასლისთვის</li>
                        <li><strong>ექსპორტი CSV-ში</strong> - Excel-ში ან სხვა პროგრამებში გამოსაყენებლად</li>
                        <li><strong>ექსპორტი ICS-ში</strong> - დაბადების დღეების იმპორტისთვის თქვენს კალენდარში</li>
                        <li><strong>იმპორტი</strong> - JSON ან CSV ფაილებიდან მონაცემების შემოტანისთვის</li>
                    </ul>
                </div>
                
                <div class="info-block">
                    <h3>🌙 თემები</h3>
                    <p>აირჩიეთ მუქი ან ღია თემა თქვენი სურვილის მიხედვით.</p>
                </div>
            </div>
        </section>
        
        <section id="faq-section" class="hidden info-section">
            <h2>ხშირად დასმული კითხვები</h2>
            <div class="info-content">
                <div class="faq-item">
                    <h3>🔒 სად ინახება ჩემი მონაცემები?</h3>
                    <p>ყველა მონაცემი ინახება ლოკალურად თქვენს ბრაუზერში, IndexedDB ტექნოლოგიის გამოყენებით. მონაცემები არსად იგზავნება და მხოლოდ თქვენს მოწყობილობაზეა ხელმისაწვდომი.</p>
                </div>
                
                <div class="faq-item">
                    <h3>💻 შემიძლია თუ არა სხვა მოწყობილობაზე გამოყენება?</h3>
                    <p>დიახ, მაგრამ მონაცემები თითოეულ მოწყობილობაზე ცალ-ცალკე ინახება. მონაცემების გადასატანად, ერთ მოწყობილობაზე გააკეთეთ JSON ექსპორტი და მეორე მოწყობილობაზე იმპორტი.</p>
                </div>
                
                <div class="faq-item">
                    <h3>🗑️ რა მოხდება თუ გავასუფთავებ ბრაუზერის მონაცემებს?</h3>
                    <p>ბრაუზერის ისტორიის გასუფთავება ხშირად შლის IndexedDB მონაცემებსაც. რეკომენდებულია JSON ექსპორტის გაკეთება წინასწარ თქვენი მონაცემების შესანახად.</p>
                </div>
                
                <div class="faq-item">
                    <h3>📅 შემიძლია თუ არა დაბადების დღეების ჩემს კალენდარში გადატანა?</h3>
                    <p>დიახ, გამოიყენეთ "ექსპორტი კალენდარში (.ics)" ღილაკი. შექმნილი ICS ფაილის იმპორტი შეგიძლიათ Google Calendar-ში, Apple Calendar-ში და სხვა პოპულარულ კალენდრის აპლიკაციებში.</p>
                </div>
                
                <div class="faq-item">
                    <h3>📱 რა უნდა ვქნა თუ კონტაქტის ღილაკები არ მუშაობს?</h3>
                    <p>კონტაქტის ღილაკები (SMS, WhatsApp, დარეკვა) მხოლოდ მაშინ არის აქტიური, თუ ტელეფონის ნომერი მითითებულია. დარწმუნდით, რომ ნომერი სწორად არის ჩაწერილი.</p>
                </div>
                
                <div class="faq-item">
                    <h3>🔄 როგორ შემიძლია დუბლიკატების თავიდან აცილება?</h3>
                    <p>იმპორტისას სისტემა ავტომატურად ამოიცნობს დუბლიკატებს (იდენტური სახელისა და დაბადების თარიღის მქონე ჩანაწერებს) და გკითხავთ გსურთ თუ არა მათი განახლება.</p>
                </div>
            </div>
        </section>

        <section id="add-edit-section" class="hidden">
            <h2 id="form-title">ახალი დაბადების დღის დამატება</h2>
            <form id="birthday-form">
                <input type="hidden" id="birthday-id">
                <div>
                    <label for="name">სახელი:</label>
                    <input type="text" id="name" required>
                </div>
                <div>
                    <label for="dob">დაბადების თარიღი:</label>
                    <input type="date" id="dob" required>
                </div>
                <div>
                    <label for="phone">ტელეფონის ნომერი (სურვილისამებრ):</label>
                    <input type="tel" id="phone" placeholder="+995 555 123456">
                </div>
                <!-- შეიძლება დავამატოთ ხატულების არჩევა -->
                <div class="form-actions">
                    <button type="submit" id="save-btn">შენახვა</button>
                    <button type="button" id="cancel-btn">გაუქმება</button>
                    <button type="button" id="delete-btn" class="hidden danger">წაშლა</button>
                </div>
            </form>
        </section>

        <section id="detail-section" class="hidden">
             <button id="back-to-list-btn">უკან სიაში</button>
             <div id="birthday-details">
                 <!-- დეტალები დინამიურად ჩაიტვირთება (name, date, age, zodiac) -->
             </div>
             <div id="countdown">
                <!-- ათვლა დინამიურად ჩაიტვირთება -->
             </div>
             <div class="detail-actions main-actions"> <!-- Renamed class for clarity -->
                <button id="edit-birthday-btn">რედაქტირება</button>
             </div>
             <div class="detail-actions contact-actions"> <!-- New container for contact buttons -->
                 <button class="action-button" id="message-btn" data-scheme="sms:">
                     <span class="btn-icon">💬</span> <!-- Placeholder icon -->
                     <span class="btn-text">შეტყობინება</span>
                 </button>
                 <button class="action-button" id="whatsapp-btn" data-scheme="https://wa.me/">
                     <span class="btn-icon">📱</span> <!-- Placeholder icon -->
                     <span class="btn-text">WhatsApp</span>
                 </button>
                 <button class="action-button" id="call-btn" data-scheme="tel:">
                     <span class="btn-icon">📞</span> <!-- Placeholder icon -->
                     <span class="btn-text">დარეკვა</span>
                 </button>
                 <!-- შეიძლება დავამატოთ Share ღილაკი -->
             </div>
        </section>
    </main>

    <footer>
        <p>&copy; <span id="current-year"></span> დაბადების დღეების აპლიკაცია</p>
    </footer>

    <script src="db.js"></script>
    <script src="utils.js"></script>
    <script src="script.js"></script>
</body>
</html>
